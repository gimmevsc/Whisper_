{"ast":null,"code":"var _jsxFileName = \"/Users/bohdanprokopchuk/Desktop/db/frontend/src/pages/reset/first/First.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport style from \"../reset.module.scss\";\nimport Input from \"../../../components/Input\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport config from \"../../../config.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction First(props) {\n  _s();\n  const navigate = useNavigate();\n  const [pressed, setPressed] = useState([false, false, false]);\n  const [isAnimation, setIsAnimation] = useState(false);\n  const [fields, setFields] = useState(['']);\n  const labels = [[\"Email\", 'email']];\n  const isValidEmail = email => {\n    // Simple regex for email validation\n    const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return regex.test(email);\n  };\n  function focusHandler(i) {\n    setPressed(prev => {\n      prev[i] = true;\n      return prev.slice(0);\n    });\n  }\n  const emailHandler = () => {\n    const email = fields[0];\n    if (isValidEmail(email)) {\n      const url = `${config.url}/reset`;\n      const data = {\n        'email_address': fields[0]\n      };\n      localStorage.setItem(\"email\", data['email_address']);\n      let s = Date.now();\n      axios.post(url, data).then(res => {\n        props.setFirst(prev => !prev);\n        console.log(Date.now() - s);\n      }).catch(err => {\n        alert(\"non valid email\");\n        console.log(err.response.data.type);\n      });\n    } else {\n      alert(\"non valid email\");\n    }\n  };\n  function onClickOutsideHandler(i) {\n    if (fields[i].length == 0 && pressed[i]) setPressed(prev => {\n      prev[i] = false;\n      return prev.slice(0);\n    });\n  }\n  useEffect(() => {}, [fields, pressed]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.block,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.create_text,\n      children: \"Enter your email address to receive a password reset code\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.inputs,\n      children: labels.map((n, i) => /*#__PURE__*/_jsxDEV(Input, {\n        style: style,\n        index: i,\n        c: [fields, setFields],\n        isAnimation: isAnimation && i == 1,\n        field: fields,\n        pressed: pressed,\n        name: n[0],\n        inputType: n[1],\n        focusHandler: () => focusHandler(i),\n        onClickOutside: () => onClickOutsideHandler(i)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style[\"check-box\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${style.buttons}`,\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/login\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style['cancel-btn'],\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style['send-btn'],\n          onClick: emailHandler,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(First, \"/FQclrE3x2YwQ5slzIxznBbM0C0=\", false, function () {\n  return [useNavigate];\n});\n_c = First;\nexport default First;\nvar _c;\n$RefreshReg$(_c, \"First\");","map":{"version":3,"names":["useEffect","useRef","useState","style","Input","Link","useNavigate","axios","config","jsxDEV","_jsxDEV","First","props","_s","navigate","pressed","setPressed","isAnimation","setIsAnimation","fields","setFields","labels","isValidEmail","email","regex","test","focusHandler","i","prev","slice","emailHandler","url","data","localStorage","setItem","s","Date","now","post","then","res","setFirst","console","log","catch","err","alert","response","type","onClickOutsideHandler","length","className","block","children","create_text","fileName","_jsxFileName","lineNumber","columnNumber","inputs","map","n","index","c","field","name","inputType","onClickOutside","buttons","href","onClick","_c","$RefreshReg$"],"sources":["/Users/bohdanprokopchuk/Desktop/db/frontend/src/pages/reset/first/First.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport style from \"../reset.module.scss\"\nimport Input from \"../../../components/Input\";\nimport { Link,useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport config from \"../../../config.json\"\n\nfunction First(props){\n    const navigate = useNavigate()\n    const [pressed, setPressed] = useState([false, false, false])\n    const [isAnimation, setIsAnimation] = useState(false)\n    const [fields, setFields] = useState([''])\n    const labels = [[\"Email\", 'email']];\n    const isValidEmail = (email) => {\n        // Simple regex for email validation\n        const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return regex.test(email);\n    };\n    function focusHandler(i) {\n\n\n        setPressed(prev => {\n            prev[i] = true\n            return prev.slice(0)\n        });\n    }\n    const emailHandler = ()=>{\n        const email = fields[0];\n        if(isValidEmail(email)){\n            const url = `${config.url}/reset`\n\n            const data = {\n                'email_address':fields[0],\n            }\n            localStorage.setItem(\"email\",data['email_address'])\n            let s = Date.now()\n            axios.post(url,data).then(res=>{\n                props.setFirst(prev=>!prev);\n                console.log(Date.now() - s )\n            }).catch(err=>{\n                alert(\"non valid email\")\n                console.log(err.response.data.type)\n            });\n            \n\n        }else{\n            alert(\"non valid email\")\n        }\n\n    }\n    \n    function onClickOutsideHandler(i) {\n        if (fields[i].length == 0 && pressed[i]) setPressed(prev => { prev[i] = false; return prev.slice(0); });\n    }\n    useEffect(() => {\n        \n    }, [fields, pressed])\n    return(\n        <div  className={style.block}>\n        <div className={style.create_text}>Enter your email address to receive a password reset code</div>\n            <div className={style.inputs}>\n                {\n                    labels.map((n, i) =>\n                        <Input key={i} style={style} index={i} c={[fields, setFields]} isAnimation={isAnimation && i==1} field={fields} pressed={pressed} name={n[0]} inputType={n[1]} focusHandler={() => focusHandler(i)} onClickOutside={() => onClickOutsideHandler(i)} />\n                    )\n                }\n                \n                \n            </div>\n            <div className={style[\"check-box\"]}>\n            </div>\n            <div className={`${style.buttons}`}>\n                <a href=\"/login\">\n                    <button className={style['cancel-btn']}>Cancel</button>\n                </a>\n                <a href=\"#\">\n                    <button className={style['send-btn']} onClick={emailHandler}>Send</button>\n                </a>\n            </div>\n        </div>\n    )\n}\n\nexport default First;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}